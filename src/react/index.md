# React 知识点



## setState 是同步还是异步
同步代码异步表现，原因是react的批处理。  react18之前在生命周期函数和合成事件中表现为异步，在原生事件，及定时器中表现为同步。  在react18优化批处理之后，在任何地方调用setState都会批处理，因此都表现为异步。  


## React事件绑定原理
非原生事件是合成事件。React将事件将挂载在 root 元素上，将事件内容封装并交由真正的处理函数运行。这样的方式不仅减少了内存消耗，还能在组件挂载销毁时统一订阅和移除事件。
因此我们如果不想要事件冒泡的话，调用 event.stopPropagation 是无效的，而应该调用event.preventDefault。


## hooks 优缺点
优点： 
+ 让函数组件拥有自己的状态和生命周期。
+ 使用函数组件加Hooks代码更加简洁。
+ 不需要老是去纠结this指向的问题。
+ 通过自定义hooks实现逻辑复用。

缺点:class组件的三个生命周期函数合并在一个生命周期函数内。   

